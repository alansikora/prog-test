<div class="container">
  <div class="task-detail">
    <div class="task-header">
      <h1><%= @task.title %></h1>
      <span class="task-status <%= @task.completed? ? 'status-completed' : 'status-pending' %>">
        <%= @task.completed? ? 'Concluída' : 'Pendente' %>
      </span>
    
    <div class="task-info">
      <div class="info-item">
        <strong>Prioridade:</strong>
        <span class="priority priority-<%= @task.priority %>">
          <%= "★" * @task.priority %>
        </span>
      </div>
      
      <div class="info-item">
        <strong>Criada em:</strong>
        <%= @task.created_at.strftime("%d/%m/%Y às %H:%M") %>
      </div>
    </div>

    <div class="task-description">
      <h3>Descrição</h3>
      <p><%= @task.description.present? ? @task.description : "Sem descrição" %></p>
    </div>

    <div class="task-actions">
      <%= link_to "Editar", edit_task_path(@task), class: "btn btn-primary" %>
      <%= button_to toggle_task_path(@task), method: :patch, class: "btn btn-success" do %>
        <%= @task.completed? ? "Marcar como Pendente" : "Marcar como Concluída" %>
      <% end %>
      <%= button_to "Excluir", task_path(@task), method: :delete, 
          data: { confirm: "Tem certeza?" }, class: "btn btn-danger" %>
      <%= link_to "Voltar", tasks_path, class: "btn btn-secondary" %>
    </div>
  </div>
</div>
